<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FANTOWNS - Discover the World's Most Passionate Fan Cities | Ultimate Fan Travel Guide</title>
    <meta name="description" content="Explore the top fan cities worldwide! From Liverpool's Anfield to Green Bay's Lambeau Field, Tokyo's Comiket to Buenos Aires' La Bombonera - discover where to stay, eat, drink and experience legendary fan culture like a local.">
    <meta name="keywords" content="fan cities, sports travel, fan culture, football fans, soccer fans, travel guide, fan experiences, sports tourism, passionate fans, fan destinations, anime conventions, music cities">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Shared Components Styles -->
    <link rel="stylesheet" href="components.css">
    <!-- Favicon and App Icons -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèôÔ∏è</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèôÔ∏è</text></svg>">
    <!-- Open Graph / Social Media Sharing -->
    <meta property="og:title" content="FANTOWNS - Discover the World's Most Passionate Fan Cities">
    <meta property="og:description" content="From Liverpool's Anfield to Tokyo's Comiket - explore the ultimate guide to the world's most passionate fan destinations.">
    <meta property="og:image" content="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 1200 630%22><rect width=%221200%22 height=%22630%22 fill=%22%23f8fafc%22/><text x=%22600%22 y=%22200%22 font-size=%22120%22 text-anchor=%22middle%22>üèôÔ∏è</text><text x=%22600%22 y=%22320%22 font-size=%2260%22 text-anchor=%22middle%22 fill=%22%231e293b%22 font-family=%22system-ui%22>FANTOWNS</text><text x=%22600%22 y=%22380%22 font-size=%2230%22 text-anchor=%22middle%22 fill=%22%2364748b%22 font-family=%22system-ui%22>World's Most Passionate Fan Cities</text></svg>">
    <meta property="og:url" content="https://www.fantowns.com">
    <meta property="og:type" content="website">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="FANTOWNS - World's Most Passionate Fan Cities">
    <meta name="twitter:description" content="From Liverpool's Anfield to Tokyo's Comiket - explore the ultimate fan travel guide.">
    <meta name="twitter:image" content="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 1200 630%22><rect width=%221200%22 height=%22630%22 fill=%22%23f8fafc%22/><text x=%22600%22 y=%22200%22 font-size=%22120%22 text-anchor=%22middle%22>üèôÔ∏è</text><text x=%22600%22 y=%22320%22 font-size=%2260%22 text-anchor=%22middle%22 fill=%22%231e293b%22 font-family=%22system-ui%22>FANTOWNS</text><text x=%22600%22 y=%22380%22 font-size=%2230%22 text-anchor=%22middle%22 fill=%22%2364748b%22 font-family=%22system-ui%22>World's Most Passionate Fan Cities</text></svg>">
    <!-- Theme Color -->
    <meta name="theme-color" content="#3b82f6">

    <!-- Additional SEO Meta Tags -->
    <meta name="author" content="FANTOWNS">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://www.fantowns.com/">

    <!-- Performance Optimizations -->
    <link rel="preconnect" href="https://www.youtube.com" crossorigin>
    <link rel="dns-prefetch" href="https://www.youtube.com">

    <!-- Structured Data - Organization Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "TravelAgency",
      "name": "FANTOWNS",
      "description": "Ultimate guide to the world's most passionate fan cities - from Liverpool's Anfield to Tokyo's Comiket",
      "url": "https://www.fantowns.com",
      "logo": "data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèôÔ∏è</text></svg>",
      "sameAs": [],
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "1247",
        "bestRating": "5",
        "worstRating": "1"
      }
    }
    </script>

    <!-- Structured Data - FAQ Schema for AEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What are the best fan cities to visit for football culture?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The top football fan cities include Liverpool (England) for Anfield's Kop atmosphere, Dortmund (Germany) for the Yellow Wall at Signal Iduna Park, Buenos Aires (Argentina) for La Bombonera's intense passion, Istanbul (Turkey) for derby rivalries, Barcelona (Spain) for Camp Nou's political passion, Manchester for the Red vs Blue derby, Glasgow for the Old Firm, Munich for Bayern's dominance, Madrid for Gal√°ctico history, and Athens for the Derby of Eternal Enemies."
          }
        },
        {
          "@type": "Question",
          "name": "What makes Liverpool's Anfield a must-visit for football fans?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Anfield Stadium is legendary for 'You'll Never Walk Alone' sung by 54,000 fans, creating such powerful vibrations that seismologists have recorded tremors. The Kop stand, historic European nights, and passionate fan culture make it essential for any football fan. Nearby pubs and the city's rich football history add to the pilgrimage experience."
          }
        },
        {
          "@type": "Question",
          "name": "Which city is best for anime and pop culture fans?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Tokyo, Japan is the ultimate destination for anime and pop culture fans. Akihabara's Electric Town offers 8-story buildings of anime merchandise, Comiket draws 750,000 attendees twice yearly, and neighborhoods like Nakano Broadway house rare collectibles. The city's maid cafes, cosplay culture, and anime specialty stores create an immersive otaku experience."
          }
        },
        {
          "@type": "Question",
          "name": "What is the best music fan city to visit?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Nashville, Tennessee is the music fan capital, with live music on every Broadway bar, the Grand Ole Opry Mother Church, Music Row's historic studios, and The Bluebird Cafe where legends were discovered. Every venue offers authentic country music experiences, and the city lives and breathes musical culture 24/7."
          }
        },
        {
          "@type": "Question",
          "name": "What is the coldest fan city experience?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Green Bay, Wisconsin offers the ultimate cold-weather fan experience at Lambeau Field's Frozen Tundra. Games in -20¬∞F weather, with fans grilling brats in blizzards, represent hardcore dedication. The Ice Bowl history and community-owned Packers create a unique, frigid football pilgrimage."
          }
        },
        {
          "@type": "Question",
          "name": "Which fan city has the most intense rivalry?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Glasgow, Scotland features the Old Firm Derby between Celtic and Rangers - a rivalry rooted in religion, politics, and 130+ years of history. Athens' Derby of Eternal Enemies (Olympiacos vs Panathinaikos), Buenos Aires' Supercl√°sico (Boca vs River), and Istanbul's three-way rivalry also rank among the world's most intense."
          }
        },
        {
          "@type": "Question",
          "name": "What should I know about visiting fan cities?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Research local fan customs, book hotels near stadiums in advance, learn team chants and songs, respect rivalries (never wear opposing colors), use public transport on match days, arrive early for atmosphere, visit fan pubs pre-game, and immerse yourself in local food and culture. Each city has unique traditions - from Green Bay's tailgating to Dortmund's Yellow Wall choreography."
          }
        },
        {
          "@type": "Question",
          "name": "How many fan cities does FANTOWNS cover?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "FANTOWNS features 21 epic fan cities across football, music, and anime cultures: Liverpool, Green Bay, Buenos Aires, Dortmund, Istanbul, Barcelona, Manchester, Glasgow, S√£o Paulo, Nashville, Tokyo, Seattle, Munich, Cairo, Madrid, Marseille, Mexico City, New Orleans, Portland, Melbourne, and Athens. Each includes hotels, restaurants, pubs, attractions, and insider tips."
          }
        }
      ]
    }
    </script>

    <!-- Structured Data - ItemList for Cities -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ItemList",
      "name": "World's Most Passionate Fan Cities",
      "description": "Complete list of 21 epic fan destinations worldwide",
      "numberOfItems": 21,
      "itemListElement": [
        {"@type": "ListItem", "position": 1, "name": "Liverpool, England", "url": "https://www.fantowns.com/city.html?city=liverpool"},
        {"@type": "ListItem", "position": 2, "name": "Green Bay, Wisconsin USA", "url": "https://www.fantowns.com/city.html?city=greenbay"},
        {"@type": "ListItem", "position": 3, "name": "Buenos Aires, Argentina", "url": "https://www.fantowns.com/city.html?city=buenosaires"},
        {"@type": "ListItem", "position": 4, "name": "Dortmund, Germany", "url": "https://www.fantowns.com/city.html?city=dortmund"},
        {"@type": "ListItem", "position": 5, "name": "Istanbul, Turkey", "url": "https://www.fantowns.com/city.html?city=istanbul"},
        {"@type": "ListItem", "position": 6, "name": "Barcelona, Spain", "url": "https://www.fantowns.com/city.html?city=barcelona"},
        {"@type": "ListItem", "position": 7, "name": "Manchester, England", "url": "https://www.fantowns.com/city.html?city=manchester"},
        {"@type": "ListItem", "position": 8, "name": "Glasgow, Scotland", "url": "https://www.fantowns.com/city.html?city=glasgow"},
        {"@type": "ListItem", "position": 9, "name": "S√£o Paulo, Brazil", "url": "https://www.fantowns.com/city.html?city=saopaulo"},
        {"@type": "ListItem", "position": 10, "name": "Nashville, Tennessee USA", "url": "https://www.fantowns.com/city.html?city=nashville"},
        {"@type": "ListItem", "position": 11, "name": "Tokyo, Japan", "url": "https://www.fantowns.com/city.html?city=tokyo"},
        {"@type": "ListItem", "position": 12, "name": "Seattle, Washington USA", "url": "https://www.fantowns.com/city.html?city=seattle"},
        {"@type": "ListItem", "position": 13, "name": "Munich, Germany", "url": "https://www.fantowns.com/city.html?city=munich"},
        {"@type": "ListItem", "position": 14, "name": "Cairo, Egypt", "url": "https://www.fantowns.com/city.html?city=cairo"},
        {"@type": "ListItem", "position": 15, "name": "Madrid, Spain", "url": "https://www.fantowns.com/city.html?city=madrid"},
        {"@type": "ListItem", "position": 16, "name": "Marseille, France", "url": "https://www.fantowns.com/city.html?city=marseille"},
        {"@type": "ListItem", "position": 17, "name": "Mexico City, Mexico", "url": "https://www.fantowns.com/city.html?city=mexicocity"},
        {"@type": "ListItem", "position": 18, "name": "New Orleans, Louisiana USA", "url": "https://www.fantowns.com/city.html?city=neworleans"},
        {"@type": "ListItem", "position": 19, "name": "Portland, Oregon USA", "url": "https://www.fantowns.com/city.html?city=portland"},
        {"@type": "ListItem", "position": 20, "name": "Melbourne, Australia", "url": "https://www.fantowns.com/city.html?city=melbourne"},
        {"@type": "ListItem", "position": 21, "name": "Athens, Greece", "url": "https://www.fantowns.com/city.html?city=athens"}
      ]
    }
    </script>

    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://www.fantowns.com/"
        }
      ]
    }
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            overflow-x: hidden;
        }

        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            position: relative;
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.7)),
                        url('images/homepage-hero.jpg') center/cover no-repeat;
            color: white;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.02) 0%, transparent 50%);
        }

        .logo {
            font-size: clamp(2.5rem, 7vw, 4.5rem);
            font-weight: 800;
            margin-bottom: 1.5rem;
            letter-spacing: -1px;
            position: relative;
            z-index: 2;
            color: #ffffff;
        }

        .tagline {
            font-size: clamp(1.1rem, 3.5vw, 1.6rem);
            margin-bottom: 1.5rem;
            font-weight: 500;
            position: relative;
            z-index: 2;
            color: #e2e8f0;
            letter-spacing: 0.3px;
        }

        .subtitle {
            font-size: clamp(0.95rem, 2.5vw, 1.15rem);
            margin-bottom: 3rem;
            max-width: 700px;
            line-height: 1.7;
            position: relative;
            z-index: 2;
            color: #cbd5e0;
            font-weight: 400;
        }

        .cta-button {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 1rem 2.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: none;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 14px rgba(59, 130, 246, 0.25);
            position: relative;
            z-index: 2;
            margin-bottom: 3rem;
            font-family: 'Inter', sans-serif;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.35);
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
        }

        .stats {
            display: flex;
            gap: 3rem;
            margin-top: 2rem;
            flex-wrap: wrap;
            justify-content: center;
            position: relative;
            z-index: 2;
        }

        .stat {
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem 2rem;
            border-radius: 12px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .stat-number {
            font-size: 2.2rem;
            font-weight: 700;
            color: #60a5fa;
            margin-bottom: 0.3rem;
        }

        .stat-label {
            font-size: 0.85rem;
            color: #e2e8f0;
            font-weight: 500;
        }

        .cities-preview {
            padding: 5rem 2rem;
            background: #f8fafc;
        }

        .section-title {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            text-align: center;
            margin-bottom: 1rem;
            font-weight: 700;
            color: #1e293b;
            letter-spacing: -0.5px;
        }

        .section-subtitle {
            text-align: center;
            color: #64748b;
            font-size: 1.1rem;
            margin-bottom: 3.5rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .filter-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .filter-tab {
            padding: 0.75rem 1.5rem;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #64748b;
        }

        .filter-tab.active {
            background: #3b82f6;
            border-color: #3b82f6;
            color: white;
        }

        .filter-tab:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
        }

        .cities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .city-link {
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .city-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            border: 1px solid #e2e8f0;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .city-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border-color: #cbd5e0;
        }

        .city-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .city-name {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.3rem;
        }

        .city-category {
            background: #f1f5f9;
            color: #475569;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .city-country {
            font-size: 0.95rem;
            color: #64748b;
            margin-bottom: 1.2rem;
            font-weight: 500;
        }

        .city-description {
            line-height: 1.6;
            margin-bottom: 1.5rem;
            color: #475569;
            font-size: 0.95rem;
            flex-grow: 1;
        }

        .city-highlights {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
            margin-top: auto;
        }

        .highlight-tag {
            background: #f1f5f9;
            color: #475569;
            padding: 0.4rem 0.9rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            border: 1px solid #e2e8f0;
        }

        .features {
            padding: 5rem 2rem;
            background: white;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2.5rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .feature {
            text-align: center;
            padding: 2.5rem 2rem;
            background: #f8fafc;
            border-radius: 16px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .feature:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
        }

        .feature-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #1e293b;
        }

        .feature-description {
            color: #64748b;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .footer {
            background: #0f172a;
            color: white;
            padding: 4rem 2rem 2rem;
            text-align: center;
        }

        .footer-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .footer-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: white;
        }

        .footer-subtitle {
            margin-bottom: 2.5rem;
            color: #cbd5e0;
            font-size: 1rem;
        }

        .footer-cta {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 1rem 2.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 3rem;
            font-family: 'Inter', sans-serif;
        }

        .footer-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.35);
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
        }

        .social-link {
            display: inline-block;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .social-link:hover {
            background: rgba(59, 130, 246, 0.2);
            transform: translateY(-2px);
        }

        .footer-copyright {
            color: #64748b;
            font-size: 0.85rem;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        @media (max-width: 768px) {
            .stats {
                gap: 1.5rem;
            }
            
            .stat {
                padding: 1.2rem 1.5rem;
            }
            
            .cities-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .city-card {
                padding: 1.5rem;
            }

            .filter-tabs {
                gap: 0.5rem;
            }

            .filter-tab {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }

        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
            z-index: 2;
            color: #94a3b8;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-8px); }
            60% { transform: translateX(-50%) translateY(-4px); }
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: #64748b;
        }

        .hidden {
            display: none !important;
        }

        /* Category-specific styling */
        .category-football .city-category { background: #dcfce7; color: #166534; }
        .category-music .city-category { background: #fef3c7; color: #92400e; }
        .category-anime .city-category { background: #fee2e2; color: #dc2626; }

        /* Quiz Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 600px;
            width: 100%;
            padding: 3rem;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #64748b;
            transition: color 0.3s;
        }

        .modal-close:hover {
            color: #1e293b;
        }

        .quiz-question {
            display: none;
        }

        .quiz-question.active {
            display: block;
        }

        .quiz-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 1rem;
        }

        .quiz-progress {
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .quiz-progress-bar {
            height: 100%;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            transition: width 0.3s ease;
        }

        .quiz-option {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 1.2rem 1.5rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            text-align: left;
        }

        .quiz-option:hover {
            border-color: #3b82f6;
            background: #eff6ff;
            transform: translateX(5px);
        }

        .quiz-result {
            text-align: center;
        }

        .result-city-name {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1e293b;
            margin: 1rem 0;
        }

        .result-description {
            font-size: 1.1rem;
            color: #475569;
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .result-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .result-button {
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-family: 'Inter', sans-serif;
        }

        .result-button.primary {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
        }

        .result-button.secondary {
            background: white;
            color: #3b82f6;
            border: 2px solid #3b82f6;
        }

        .result-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        /* Bucket List Tracker */
        .bucket-list-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 50px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
            z-index: 999;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .bucket-list-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(59, 130, 246, 0.5);
        }

        .bucket-list-badge {
            background: rgba(255, 255, 255, 0.3);
            padding: 0.2rem 0.6rem;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .bucket-list-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100%;
            background: white;
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            transition: right 0.3s ease;
            overflow-y: auto;
            padding: 2rem;
        }

        .bucket-list-panel.active {
            right: 0;
        }

        .achievement-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 0.25rem;
        }

        .achievement-badge.locked {
            background: #e2e8f0;
            color: #94a3b8;
        }

        .city-checklist-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            margin-bottom: 0.5rem;
            background: #f8fafc;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .city-checklist-item:hover {
            background: #eff6ff;
        }

        .city-checklist-item.checked {
            background: #dcfce7;
        }

        .city-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #cbd5e0;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .city-checklist-item.checked .city-checkbox {
            background: #10b981;
            border-color: #10b981;
        }

        .city-checkbox::after {
            content: '‚úì';
            color: white;
            font-weight: bold;
            display: none;
        }

        .city-checklist-item.checked .city-checkbox::after {
            display: block;
        }

        /* Social Proof */
        .social-proof {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            z-index: 998;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            animation: fadeInUp 0.5s ease;
        }

        @keyframes fadeInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .social-proof-pulse {
            width: 12px;
            height: 12px;
            background: #10b981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        .social-proof-text {
            font-size: 0.9rem;
            color: #475569;
        }

        @media (max-width: 768px) {
            .modal-content {
                padding: 2rem 1.5rem;
            }

            .bucket-list-panel {
                width: 100%;
                right: -100%;
            }

            .bucket-list-btn {
                bottom: 1rem;
                right: 1rem;
                padding: 0.8rem 1.2rem;
                font-size: 0.9rem;
            }

            .social-proof {
                left: 1rem;
                bottom: 5rem;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <!-- Unified Header (rendered by components.js) -->
    <div id="header-mount"></div>

    <section class="hero">
        <h1 class="logo">FANTOWNS</h1>
        <p class="tagline">Discover the World's Most Passionate Fan Cities</p>
        <p class="subtitle">
            Experience legendary fan cultures from Liverpool's Anfield to Tokyo's Comiket madness. Find the best hotels, restaurants, and insider tips to immerse yourself in the world's most electrifying sports, music, and pop culture destinations.
        </p>
        <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center; margin-bottom: 3rem;">
            <button class="cta-button" onclick="openQuiz()">üéØ Find Your Perfect Fan City</button>
            <button class="cta-button" onclick="scrollToSection('cities')" style="background: rgba(255, 255, 255, 0.1); border: 2px solid white;">Explore All Cities</button>
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-number" id="total-cities">0</div>
                <div class="stat-label">Epic Fan Cities</div>
            </div>
            <div class="stat">
                <div class="stat-number">200+</div>
                <div class="stat-label">Curated Hotspots</div>
            </div>
            <div class="stat">
                <div class="stat-number">24/7</div>
                <div class="stat-label">Pure Passion</div>
            </div>
        </div>
        
        <div class="scroll-indicator">
            <div style="font-size: 1.5rem;">‚Üì</div>
        </div>
    </section>

    <section id="cities" class="cities-preview">
        <h2 class="section-title">The World's Most Passionate Fan Cities</h2>
        <p class="section-subtitle">From football stadiums to anime conventions, from country music to club rivalries - discover where passion defines entire cities.</p>
        
        <div class="filter-tabs">
            <div class="filter-tab active" data-category="all">All Cities</div>
            <div class="filter-tab" data-category="football">‚öΩ Sports</div>
            <div class="filter-tab" data-category="music">üéµ Music</div>
            <div class="filter-tab" data-category="anime">üéå Anime & Pop Culture</div>
        </div>
        
        <div class="cities-grid" id="cities-grid">
            <div class="loading">Loading amazing fan cities...</div>
        </div>
    </section>

    <section style="padding: 5rem 2rem; background: #0f172a; color: white;">
        <h2 class="section-title" style="color: white;">Feel the Atmosphere</h2>
        <p class="section-subtitle" style="color: #cbd5e0; max-width: 700px; margin: 0 auto 3rem;">Experience the chills, the roars, and the pure passion that makes these cities legendary.</p>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 2rem; max-width: 1200px; margin: 0 auto;">
            <!-- Liverpool -->
            <div style="background: rgba(255, 255, 255, 0.05); border-radius: 16px; padding: 1.5rem; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1);">
                <h3 style="font-size: 1.3rem; margin-bottom: 0.5rem; color: #60a5fa;">‚öΩ You'll Never Walk Alone</h3>
                <p style="color: #cbd5e0; margin-bottom: 1rem; font-size: 0.9rem;">54,000 Liverpool fans at Anfield singing in perfect unison. Seismologists recorded tremors.</p>
                <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                    <iframe style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src="https://www.youtube.com/embed/Go-jJlGd1so" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy" title="Liverpool You'll Never Walk Alone at Anfield"></iframe>
                </div>
            </div>

            <!-- Dortmund -->
            <div style="background: rgba(255, 255, 255, 0.05); border-radius: 16px; padding: 1.5rem; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1);">
                <h3 style="font-size: 1.3rem; margin-bottom: 0.5rem; color: #fbbf24;">üü° The Yellow Wall</h3>
                <p style="color: #cbd5e0; margin-bottom: 1rem; font-size: 0.9rem;">25,000 standing fans bouncing as one organism. The stadium literally sways.</p>
                <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                    <iframe style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src="https://www.youtube.com/embed/ZLoyFdBIVJw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy" title="Dortmund Yellow Wall Atmosphere"></iframe>
                </div>
            </div>

            <!-- Buenos Aires -->
            <div style="background: rgba(255, 255, 255, 0.05); border-radius: 16px; padding: 1.5rem; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1);">
                <h3 style="font-size: 1.3rem; margin-bottom: 0.5rem; color: #f59e0b;">üá¶üá∑ La Bombonera Shakes</h3>
                <p style="color: #cbd5e0; margin-bottom: 1rem; font-size: 0.9rem;">When Boca scores, the stadium actually moves. Flares, drums, and pure madness.</p>
                <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                    <iframe style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src="https://www.youtube.com/embed/xRBZGd73SkE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy" title="Buenos Aires La Bombonera Stadium Atmosphere"></iframe>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 3rem;">
            <button class="cta-button" onclick="scrollToSection('cities')">Choose Your Adventure</button>
        </div>
    </section>

    <section class="features">
        <h2 class="section-title">Your Complete Fan City Experience</h2>
        
        <div class="features-grid">
            <div class="feature">
                <div class="feature-icon">üè®</div>
                <h3 class="feature-title">Fan-Approved Accommodations</h3>
                <p class="feature-description">Carefully curated hotels and stays where superfans gather, from team-themed properties to locations steps away from legendary venues.</p>
            </div>
            
            <div class="feature">
                <div class="feature-icon">üçΩÔ∏è</div>
                <h3 class="feature-title">Legendary Local Spots</h3>
                <p class="feature-description">The authentic bars, restaurants, and hangouts where generations of locals have celebrated victories and shared their passion.</p>
            </div>
            
            <div class="feature">
                <div class="feature-icon">üéØ</div>
                <h3 class="feature-title">Insider Knowledge</h3>
                <p class="feature-description">Learn the chants, customs, and unwritten rules that help you blend in like a local and experience authentic fan culture.</p>
            </div>
            
            <div class="feature">
                <div class="feature-icon">‚ö°</div>
                <h3 class="feature-title">Electric Atmospheres</h3>
                <p class="feature-description">Discover the events, rituals, and moments that create the electricity making these cities the world's most passionate fan destinations.</p>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-content">
            <h3 class="footer-title">Ready to Experience Fan Passion Like Never Before?</h3>
            <p class="footer-subtitle">Join thousands of travelers discovering the world's most passionate fan destinations.</p>
            
            <button class="footer-cta">Start Your Fan Journey</button>
            
            <div class="social-links">
                <a href="#" class="social-link">üì±</a>
                <a href="#" class="social-link">üìß</a>
                <a href="#" class="social-link">üåê</a>
                <a href="#" class="social-link">üì∫</a>
            </div>
            
            <p class="footer-copyright">
                ¬© 2025 FANTOWNS.com - Where Every City Has a Story, Every Fan Has a Home
            </p>
        </div>
    </footer>

    <!-- Quiz Modal -->
    <div id="quizModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeQuiz()">√ó</button>
            <div id="quizContent">
                <div class="quiz-progress">
                    <div id="quizProgressBar" class="quiz-progress-bar" style="width: 0%"></div>
                </div>
                <div id="quizQuestions"></div>
                <div id="quizResult" class="quiz-result hidden"></div>
            </div>
        </div>
    </div>

    <!-- Bucket List Tracker Button -->
    <button class="bucket-list-btn" onclick="toggleBucketList()">
        <span>üèÜ</span>
        <span>My Bucket List</span>
        <span id="bucketListBadge" class="bucket-list-badge">0/11</span>
    </button>

    <!-- Bucket List Panel -->
    <div id="bucketListPanel" class="bucket-list-panel">
        <h2 style="font-size: 1.5rem; margin-bottom: 1rem;">üèÜ Your Fan City Journey</h2>
        <div id="bucketListProgress" style="margin-bottom: 2rem;">
            <div style="background: #e2e8f0; height: 8px; border-radius: 4px; overflow: hidden;">
                <div id="progressBar" style="background: linear-gradient(90deg, #10b981, #059669); height: 100%; width: 0%; transition: width 0.5s ease;"></div>
            </div>
            <p style="margin-top: 0.5rem; color: #64748b; font-size: 0.9rem;">
                <span id="progressText">0 of 11 cities visited</span>
            </p>
        </div>

        <h3 style="font-size: 1.1rem; margin-bottom: 1rem;">üéñÔ∏è Achievements</h3>
        <div id="achievements" style="margin-bottom: 2rem;"></div>

        <h3 style="font-size: 1.1rem; margin-bottom: 1rem;">Cities Checklist</h3>
        <div id="cityChecklist"></div>

        <button onclick="shareBucketList()" style="width: 100%; margin-top: 2rem; padding: 1rem; background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">
            üì± Share My Journey
        </button>
    </div>

    <!-- Social Proof -->
    <div id="socialProof" class="social-proof">
        <div class="social-proof-pulse"></div>
        <div class="social-proof-text">
            <strong id="socialProofMessage">Loading...</strong>
        </div>
    </div>

    <!-- City Data File -->
    <script src="city-data.js"></script>
    
    <script>
        // City categories for filtering
        const cityCategories = {
            liverpool: 'football',
            greenbay: 'football',
            buenosaires: 'football',
            dortmund: 'football',
            istanbul: 'football',
            barcelona: 'football',
            manchester: 'football',
            glasgow: 'football',
            saopaulo: 'football',
            nashville: 'music',
            tokyo: 'anime',
            seattle: 'football',
            munich: 'football',
            cairo: 'football',
            madrid: 'football',
            marseille: 'football',
            mexicocity: 'football',
            neworleans: 'football',
            portland: 'football',
            melbourne: 'football',
            athens: 'football'
        };

        // City display data (what shows on the cards)
        const cityDisplayData = {
            liverpool: {
                name: "Liverpool",
                country: "England üá¨üáß",
                description: "Picture this: 54,000 voices rising as one, singing \"You'll Never Walk Alone\" so powerfully that seismologists have recorded tremors. At Anfield, the Kop doesn't just cheer‚Äîit roars, it weeps, it makes grown players cry. This is where Bill Shankly built a religion, where legends are born on European nights under the floodlights, and where the spirit of 1977, 1984, 2005, and 2019 still echoes through every brick. The pubs around Anfield aren't just drinking spots‚Äîthey're temples where fans have gathered for 130 years, singing the same songs their great-grandfathers sang.",
                highlights: ["Anfield Stadium", "The Cavern Club", "Albert Dock"]
            },
            greenbay: {
                name: "Green Bay",
                country: "Wisconsin, USA üá∫üá∏",
                description: "When it's -20¬∞F and your breath freezes in the air, that's when you know you're in Titletown. This isn't just a team‚Äîit's community-owned destiny. 360,000 shareholders, most who'll never see a dividend, but own a piece of immortality. The Lambeau Leap isn't a celebration; it's a covenant between players and fans who've waited in sub-zero parking lots since dawn, grilling brats in blizzards. Vince Lombardi's ghost still walks these sidelines. The Ice Bowl. The frozen tundra. Bart Starr's sneak. This is where legends are forged in ice and crowned in cheese. On Sunday, the entire city shuts down‚Äîchurch happens at noon, kickoff is the sermon.",
                highlights: ["Lambeau Field", "Titletown District", "Local Breweries"]
            },
            buenosaires: {
                name: "Buenos Aires",
                country: "Argentina üá¶üá∑",
                description: "La Bombonera‚ÄîThe Chocolate Box‚Äîliterally shakes when Boca scores. Seismographs don't lie. The stadium was built in a cramped neighborhood on purpose: to trap the sound, to amplify the rage, the joy, the desperation. When Boca plays River in El Supercl√°sico, the city divides into blue-and-gold and red-and-white, families stop speaking, marriages are tested. Diego Maradona's spirit still dances in La Boca's streets where tango was born from the same immigrant passion that created this football religion. Here, defeat isn't just a loss‚Äîit's a tragedy. Victory isn't just winning‚Äîit's vindication. The smell of chorip√°n grilling, the sound of drums that never stop, the sight of flags so large they cover entire stadium sections‚Äîthis is football as war, as art, as life itself.",
                highlights: ["La Bombonera", "El Supercl√°sico", "San Telmo"]
            },
            dortmund: {
                name: "Dortmund",
                country: "Germany üá©üá™",
                description: "The S√ºdtrib√ºne‚Äîthe Yellow Wall‚Äîis 25,000 people standing as one organism. No seats. Just pure, concentrated passion rising four stories into the Ruhr Valley sky. When they bounce in unison, the stadium sways. When they sing, Champions League opponents visibly shrink. This is Germany's working-class heart beating in black and yellow, born from coal mines and steel mills that forged both the city and its unbreakable spirit. Watch the choreographed displays: thousands of fans holding cards to create massive images in perfect synchronization, like a living, breathing organism. The beer flows, the currywurst sizzles, and \"Heja BVB\" thunders through streets where football isn't entertainment‚Äîit's identity. This is where Klopp built his dynasty on heavy metal football and infectious energy.",
                highlights: ["Yellow Wall", "Phoenix Lake", "Industrial Culture"]
            },
            istanbul: {
                name: "Istanbul",
                country: "Turkey üáπüá∑",
                description: "Welcome to Hell‚Äîthat's what opponents call T√ºrk Telekom Stadium, where Galatasaray's ultras create an inferno of sound and fury. But this is a city divided three ways: Galatasaray's red-and-gold aristocracy, Fenerbah√ße's yellow-and-blue working class, Be≈üikta≈ü's black-and-white rebels. On derby day, the Bosphorus itself seems to split. Ferries carrying fans to stadiums rock with synchronized chants. Fishermen pause mid-catch to debate tactics. The call to prayer competes with stadium roars. Flares paint the night sky in team colors. This is where East meets West, where ancient Constantinople's passion for chariot racing evolved into modern football fanaticism. Raki flows, kebabs char over open flames, and the drums‚Äîthe √ßifteli drums‚Äînever, ever stop. UEFA calls it intimidating. Locals call it home.",
                highlights: ["T√ºrk Telekom Stadium", "Bosphorus", "Historic Quarter"]
            },
            nashville: {
                name: "Nashville",
                country: "Tennessee, USA üá∫üá∏",
                description: "At 9 PM on Broadway, every single bar has live music pouring onto neon-lit streets. Every. Single. One. This isn't background music‚Äîthese are artists who moved here with a dream, playing 4-hour sets for tips and trying to be discovered like Garth Brooks at The Bluebird Cafe. The Grand Ole Opry isn't just a venue; it's the Mother Church, where a 6-foot circle of wood from the Ryman stage holds more history than most museums. Johnny Cash, Patsy Cline, Dolly Parton‚Äîthey all stood in that circle. Walk down Music Row and you're stepping over songs that made millionaires. The Hot Chicken will burn your mouth, the pedal taverns will embarrass you, and someone will absolutely ask you to sing karaoke to 'Friends in Low Places.' This is where country music isn't a genre‚Äîit's a living, breathing religion with whiskey sacrament.",
                highlights: ["Grand Ole Opry", "Broadway District", "Music Row"]
            },
            barcelona: {
                name: "Barcelona",
                country: "Spain üá™üá∏",
                description: "\"M√©s que un club\"‚ÄîMore than a club‚Äîisn't marketing; it's truth carved in Catalan stone. When Franco banned their language, Camp Nou became the only place 99,000 people could speak Catalan freely, making every match an act of defiance. Watch the stadium transform at minute 17:14 (1714, the year Catalonia fell) when fans hold up signs demanding independence. This is where Cruyff turned football into art, where Messi painted masterpieces with a ball, where tiki-taka became philosophy. The pre-match atmosphere at La Rambla's fan bars mixes paella, cava, and political passion. Tourists come for Gaud√≠; pilgrims come for Bar√ßa. The club motto rings true: you don't just support FC Barcelona‚Äîyou join a nation within a nation, where football is identity, resistance, and pure joy distilled into 90 minutes of beautiful football.",
                highlights: ["Camp Nou", "Las Ramblas", "Sagrada Fam√≠lia"]
            },
            manchester: {
                name: "Manchester",
                country: "England üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø",
                description: "Red or Blue. There is no in-between in this rain-soaked city where the Industrial Revolution birthed both football and fierce loyalty. United's Old Trafford‚ÄîThe Theatre of Dreams‚Äîwhere the Busby Babes died young and became immortal, where '99 was magical, where Fergie built an empire on bloody-minded determination. Across town, City's Etihad represents new money challenging old power, noisy neighbors who grew up to become champions. The derby isn't just a match‚Äîit's bragging rights for a year, family dinners in silence, workplaces divided. Walk through Northern Quarter pubs and you'll see grandfathers in red teaching grandsons songs about '68. In Ancoats, you'll see kids in sky blue dreaming of Aguerooooo's title-winning goal. Both sides united only in their love of chip barms and hatred of Liverpool. This is Manchester: rainy, gritty, passionate, and utterly obsessed.",
                highlights: ["Old Trafford", "Etihad Stadium", "Manchester Derby"]
            },
            glasgow: {
                name: "Glasgow",
                country: "Scotland üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø",
                description: "Green and White versus Blue. Catholic versus Protestant. 1888 versus 1872. This isn't just football‚Äîit's centuries of history, immigration, religion, and identity compressed into 90 brutal, beautiful minutes. The Old Firm Derby has seen riots, violence, and passion so intense it defies rational explanation. Celtic Park on European nights becomes 'Paradise' where Irish immigrant descendants sing songs of defiance. Ibrox Stadium echoes with loyalist anthems and unionist pride. Walk Glasgow on derby day and every pub is either green or blue, never mixed. Workplaces split, friendships tested, families fractured. Over 400 matches played. The intensity never diminishes. This rivalry makes El Cl√°sico look friendly. Add in Tennent's lager, haggis suppers, and Glasgow's sharp wit, and you have football's most complex, controversial, and utterly consuming derby.",
                highlights: ["Celtic Park", "Ibrox Stadium", "Old Firm Derby"]
            },
            saopaulo: {
                name: "S√£o Paulo",
                country: "Brazil üáßüá∑",
                description: "Twenty-two million people. Four massive clubs. Infinite passion. This isn't a city‚Äîit's a football laboratory where the beautiful game reaches its purest, most intense form. Corinthians' Fiel (The Faithful) fill stadiums even in relegation seasons because loyalty here isn't conditional. Palmeiras' recent dominance creates green celebrations that shut down entire neighborhoods. S√£o Paulo FC carries aristocratic history while Santos honors Pel√©'s eternal legacy. Every weekend, the Pacaembu valley echoes with samba drums, fireworks, and chants that make European ultras look tame. The churrasqueiras smoke, caipirinhas flow, and street football never stops‚Äîkids playing on favela streets dream of Morumbi just like Ronaldo did. This is where S√≥crates turned football into poetry and politics, where every match carries the weight of Brazilian soul, where defeat brings tears and victory brings delirium.",
                highlights: ["Arena Corinthians", "Allianz Parque", "Football Museum"]
            },
            tokyo: {
                name: "Tokyo",
                country: "Japan üáØüáµ",
                description: "Twice a year, 750,000 otaku descend on Tokyo Big Sight for Comiket‚Äîthe world's largest self-published comic convention where passion becomes organized chaos. People line up at 4 AM in summer heat or winter cold, clutching numbered tickets like golden passes to paradise. Akihabara's Electric Town isn't just shopping‚Äîit's pilgrimage. Eight-story buildings dedicated entirely to figurines, maid cafes on every corner, vending machines selling trading cards. Cosplayers transform public spaces into living anime scenes with obsessive attention to detail that costs thousands of dollars and hundreds of hours. Walk Nakano Broadway's narrow aisles and find treasures dating back to Astro Boy. Visit Animate's flagship store and witness teenage girls screaming over limited-edition merchandise. This isn't casual fandom‚Äîthis is devotion refined to art, where collecting becomes culture, and anime defines identity for millions.",
                highlights: ["Comiket", "Akihabara", "Anime Culture"]
            },
            seattle: {
                name: "Seattle",
                country: "Washington, USA üá∫üá∏",
                description: "The 12th Man isn't marketing‚Äîit's registered in the rafters, retired like a player's jersey. Lumen Field was engineered for noise: concrete and steel designed to trap and amplify 70,000 screaming fans into seismic events. Literally. In 2011, Marshawn Lynch's Beast Quake run registered on nearby seismographs‚Äîfans jumping in unison created an earthquake. The Legion of Boom defense fed off this energy, opposing quarterbacks couldn't hear audibles, false starts became inevitable. Rain or shine (mostly rain), Seattle shows up in navy and neon green, waving the 12 flag that flies on every game day. This is Pacific Northwest passion: flannel-wearing, coffee-drinking, deafeningly loud loyalty that helped bring a Super Bowl to a city that bleeds Seahawks blue.",
                highlights: ["Lumen Field", "12th Man Flag", "Beast Quake"]
            },
            munich: {
                name: "Munich",
                country: "Germany üá©üá™",
                description: "Bayern Munich doesn't just win‚Äîthey dominate with Bavarian precision and beer-hall celebration. The Allianz Arena glows red on match nights, visible from planes landing at the airport, a 75,000-seat beacon of German football supremacy. But this isn't sterile excellence‚Äîit's Oktoberfest energy channeled into 90 minutes. Fans drink steins in the beer gardens surrounding the stadium, sing traditional Bavarian songs mixed with football chants, and expect nothing less than perfection. Eleven consecutive Bundesliga titles isn't dynasty‚Äîit's baseline expectation. The South Stand's Red Wall rivals Dortmund's Yellow Wall in volume if not size. Lederhosen and football scarves mix in the crowd. After matches, fans flood back to Marienplatz, celebrating or drowning sorrows in the same beer halls where club legends have drunk for decades. Mia San Mia‚ÄîWe Are Who We Are.",
                highlights: ["Allianz Arena", "Oktoberfest", "Beer Gardens"]
            },
            cairo: {
                name: "Cairo",
                country: "Egypt üá™üá¨",
                description: "Al Ahly SC‚ÄîAfrica's Club of the Century‚Äîplays to 75,000 fanatics at Cairo International Stadium where flags outnumber people and flares turn day into night. This is Egyptian football: political, passionate, dangerous, and utterly consuming. The Ultras Ahlawy are organized like military units, their choreographed displays rivaling anything Europe offers. Post-2011 revolution, football became outlet for frustration and hope. Derby days against Zamalek split the entire nation‚Äînot just Cairo‚Äîinto red and white. The Nile River could run with the colors. Street vendors sell jerseys, taxi drivers argue tactics, entire neighborhoods shut down for matches. The 2012 Port Said tragedy killed 74 Ahly fans but strengthened resolve. This isn't just football‚Äîit's Arab Spring passion, Pharaonic pride, and unbreakable brotherhood written in red across African skies.",
                highlights: ["Cairo Stadium", "Ultras Ahlawy", "Derby Day"]
            },
            madrid: {
                name: "Madrid",
                country: "Spain üá™üá∏",
                description: "The Santiago Bernab√©u isn't a stadium‚Äîit's a cathedral where Gal√°cticos become gods. Zidane, Ronaldo (both), Di St√©fano, Ramos‚Äîlegends built here under white lights and royal expectation. When Madrid plays, the city stops. Paseo de la Castellana becomes a river of white as 80,000 flood toward the stadium. But this is also derby city: Atl√©tico Madrid's Wanda Metropolitano pulses with working-class fury 4 km away, their red-and-white ultras creating atmosphere through volume and volatility. Real demands beautiful football AND trophies. Anything less brings whistles‚Äîeven Ronaldo got booed. The Plaza de Cibeles fountain becomes championship celebration ground where players dive into water, raising European Cups as the city erupts. Fourteen European Cups don't lie‚Äîthis is football royalty, and Madrid knows it, demands it, lives it.",
                highlights: ["Santiago Bernab√©u", "Gal√°cticos History", "Plaza de Cibeles"]
            },
            marseille: {
                name: "Marseille",
                country: "France üá´üá∑",
                description: "The Stade V√©lodrome tilts toward the pitch, all 67,000 seats angled to focus every decibel onto the field. Olympique de Marseille‚ÄîOM‚Äîis France's most passionate club, and the South Winners ultras make it deafening. Mediterranean fire runs through this port city's veins: immigrant communities from Algeria, Italy, Armenia forged identity through football. \"Droit au But\"‚ÄîStraight to Goal‚Äîisn't just a chant, it's philosophy. When OM faces PSG, it's Marseille's working-class soul versus Parisian oil money, and the V√©lodrome becomes a cauldron of flares, tifos, and rage. The only French club to win the Champions League (1993), that glory haunts and drives modern fans. Walk the Vieux-Port before matches‚Äîbouillabaisse simmers, pastis flows, and everyone wears OM blue. This is the south of France where sunshine meets fury, where beauty and brutality merge into pure Mediterranean passion.",
                highlights: ["Stade V√©lodrome", "South Winners", "Mediterranean Derby"]
            },
            mexicocity: {
                name: "Mexico City",
                country: "Mexico üá≤üáΩ",
                description: "Estadio Azteca‚Äî87,000 capacity, 7,200 feet altitude, site of Maradona's Hand of God and Pel√©'s brilliance. This colossus dominates Mexico City's football landscape alongside Estadio Ol√≠mpico Universitario where Pumas play. Club Am√©rica‚ÄîLas √Åguilas‚Äîinspire devotion and hatred in equal measure. Their yellow-and-blue fills the Azteca while rivals pray for their downfall. But this is also Cl√°sico Joven (Am√©rica vs Cruz Azul), Cl√°sico Capitalino (Am√©rica vs Pumas)‚Äîthis megacity of 22 million lives football daily. Street tacos vendors wear jerseys, Metro trains divide by team allegiance, entire colonias shut down for matches. The altitude makes every breath harder, every run more painful, giving home advantage real meaning. Mariachi bands play in parking lots, lucha libre masks mix with football scarves, and tequila flows like water. This is Mexico's heart‚Äîpassionate, loud, proud, and football-obsessed.",
                highlights: ["Estadio Azteca", "Club Am√©rica", "Altitude Advantage"]
            },
            neworleans: {
                name: "New Orleans",
                country: "Louisiana, USA üá∫üá∏",
                description: "Who Dat Nation rose from Katrina's floodwaters with defiant joy. When the Saints returned to the Superdome in 2006, the roar physically shook the rebuilt structure‚Äîa city finding its soul again through football. Drew Brees became not just quarterback but civic hero, the 2010 Super Bowl victory not just championship but resurrection. The Black and Gold represent more than a team‚Äîthey're post-Katrina resilience personified. Game day is Mardi Gras energy channeled into 70,000 seats: jazz bands, brass instruments, second lines dancing through the Dome. Bourbon Street empties into the stadium, then refills after victory. Saints fans don't just cheer‚Äîthey celebrate life itself. Paper bag heads from terrible years became symbol of never quitting. This is New Orleans: tragedy transformed into triumph, defeat into dancing, despair into Who Dat chants echoing across the bayou.",
                highlights: ["Superdome", "Who Dat Nation", "Post-Katrina Revival"]
            },
            portland: {
                name: "Portland",
                country: "Oregon, USA üá∫üá∏",
                description: "Providence Park seats only 25,000 but makes noise like 100,000. The Timbers Army occupies the North End, 4,000 strong, scarves raised, songs never stopping for 90 minutes. When Portland scores, Timber Joey revs his chainsaw and cuts a slab off a giant log‚Äîtradition born from Oregon's lumber heritage. This is soccer in America's most soccer-mad city, where MLS attendance records fall, where standing-room-only means something, where craft beer and football scarves define identity. No cheerleaders, no gimmicks‚Äîjust supporters who learned from European ultras and added Pacific Northwest authenticity. The Cascadia rivalry with Seattle and Vancouver creates derby days that matter, that hurt, that define seasons. Portland Timbers supporters don't attend matches‚Äîthey create the atmosphere professionals describe as best in MLS. Scarves up, voices hoarse, beer consumed, Timber logged. Keep Portland weird. Keep Portland loud.",
                highlights: ["Timbers Army", "Timber Joey", "Cascadia Cup"]
            },
            melbourne: {
                name: "Melbourne",
                country: "Australia üá¶üá∫",
                description: "The MCG‚ÄîMelbourne Cricket Ground‚Äîholds 100,000 for AFL Grand Final day when the entire nation stops breathing. Australian Rules Football isn't just sport‚Äîit's religion, culture, identity compressed into brutal, athletic chaos played on cricket ovals. Melbourne has nine AFL teams; every suburb bleeds different colors. Collingwood vs Carlton. Essendon vs Richmond. These rivalries span 130 years, generations of families divided by team allegiance. Grand Final day parade down Swanston Street, pubs overflow by 10 AM, the MCG roars so loud it drowns out jet planes overhead. This is the most sports-mad city on Earth‚Äîfour different football codes, Formula 1, Australian Open tennis. But AFL is king, the MCG its throne, and Grand Final day its coronation. Meat pies, beer, sunburn, and 100,000 voices screaming as one‚Äîthis is Melbourne, where sport isn't pastime, it's passion.",
                highlights: ["MCG", "AFL Grand Final", "Nine Local Teams"]
            },
            athens: {
                name: "Athens",
                country: "Greece üá¨üá∑",
                description: "Olympiacos vs Panathinaikos‚Äîthe Derby of Eternal Enemies‚Äîsplits Athens into red and green, port versus capital, working class versus establishment. Gate 7 ultras at Olympiacos and Gate 13 at Panathinaikos create atmosphere through flares that obscure the pitch, tifos covering entire stands, chants that mix ancient Greek pride with modern fury. This isn't friendly rivalry‚Äîfans have died, stadiums closed, violence erupted. The passion is Balkan intensity meets Mediterranean heat. Olympic Stadium or Karaiskakis‚Äîboth become pressure cookers where every tackle is warfare, every goal divine intervention. Economic crisis deepened divides; football became outlet for frustration. Walk Piraeus‚ÄîOlympiacos territory‚Äîand green is invisible. Walk central Athens‚ÄîPanathinaikos heartland‚Äîand red doesn't exist. This is Greece: ancient democracy, modern chaos, eternal derby. Philosophy gave way to football, but the passion for argument remains absolute.",
                highlights: ["Karaiskakis Stadium", "Derby Day Violence", "Gate 7 Ultras"]
            }
        };

        function createCityCard(cityKey, cityData, displayData) {
            const category = cityCategories[cityKey];
            const categoryLabel = category === 'football' ? 'Football' : 
                                category === 'music' ? 'Music' : 
                                category === 'anime' ? 'Anime' : 'Culture';
            
            return `
                <a href="city.html?city=${cityKey}" class="city-link">
                    <div class="city-card category-${category}" data-category="${category}">
                        <div class="city-header">
                            <div>
                                <h3 class="city-name">${displayData.name}</h3>
                                <p class="city-country">${displayData.country}</p>
                            </div>
                            <div class="city-category">${categoryLabel}</div>
                        </div>
                        <p class="city-description">${displayData.description}</p>
                        <div class="city-highlights">
                            ${displayData.highlights.map(highlight => 
                                `<span class="highlight-tag">${highlight}</span>`
                            ).join('')}
                        </div>
                    </div>
                </a>
            `;
        }

        function populateCities() {
            const citiesGrid = document.getElementById('cities-grid');
            const totalCitiesElement = document.getElementById('total-cities');
            
            // Get all available cities from CITY_DATA
            const allCities = Object.keys(CITY_DATA);
            
            // Update total count
            totalCitiesElement.textContent = allCities.length;
            
            // Generate city cards
            const cityCards = allCities.map(cityKey => {
                const cityData = CITY_DATA[cityKey];
                const displayData = cityDisplayData[cityKey];
                
                if (!displayData) {
                    console.warn(`No display data found for city: ${cityKey}`);
                    return '';
                }
                
                return createCityCard(cityKey, cityData, displayData);
            }).filter(card => card !== ''); // Remove empty cards
            
            citiesGrid.innerHTML = cityCards.join('');
        }

        function setupFiltering() {
            const filterTabs = document.querySelectorAll('.filter-tab');
            const cityCards = document.querySelectorAll('.city-card');
            
            filterTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Update active tab
                    filterTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    const category = tab.dataset.category;
                    
                    // Filter cities
                    cityCards.forEach(card => {
                        if (category === 'all' || card.dataset.category === category) {
                            card.parentElement.classList.remove('hidden');
                        } else {
                            card.parentElement.classList.add('hidden');
                        }
                    });
                });
            });
        }

        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({
                behavior: 'smooth'
            });
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            populateCities();
            setupFiltering();
            
            // Smooth scroll for all CTA buttons
            document.querySelectorAll('.cta-button, .footer-cta').forEach(button => {
                button.addEventListener('click', function() {
                    scrollToSection('cities');
                });
            });

            // Intersection Observer for animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -30px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Animate elements on scroll with delay
            setTimeout(() => {
                document.querySelectorAll('.city-card, .feature').forEach((element, index) => {
                    element.style.opacity = '0';
                    element.style.transform = 'translateY(20px)';
                    element.style.transition = `all 0.6s ease ${index * 0.1}s`;
                    observer.observe(element);
                });
            }, 100);
        });

        // ========== QUIZ FUNCTIONALITY ==========
        const quizQuestions = [
            {
                question: "How do you celebrate victory?",
                options: [
                    { text: "Singing anthems with thousands of strangers", scores: { liverpool: 3, dortmund: 3, buenosaires: 2, portland: 3, marseille: 2 } },
                    { text: "BBQ tailgate party in the parking lot", scores: { greenbay: 3, nashville: 2, seattle: 3, mexicocity: 2 } },
                    { text: "Dancing in the streets until sunrise", scores: { buenosaires: 3, istanbul: 2, saopaulo: 3, neworleans: 3, athens: 2 } },
                    { text: "Collecting limited edition merchandise", scores: { tokyo: 3, barcelona: 1, munich: 1 } }
                ]
            },
            {
                question: "What's your ideal fan atmosphere?",
                options: [
                    { text: "Historic tradition with legendary stories", scores: { liverpool: 3, barcelona: 2, manchester: 2, madrid: 3, melbourne: 2 } },
                    { text: "Intense, intimidating, and loud", scores: { istanbul: 3, buenosaires: 3, dortmund: 2, seattle: 3, athens: 3 } },
                    { text: "Family-friendly community spirit", scores: { greenbay: 3, nashville: 2, portland: 2 } },
                    { text: "Organized chaos with creative displays", scores: { tokyo: 3, saopaulo: 2, cairo: 2 } }
                ]
            },
            {
                question: "How do you handle rivalry?",
                options: [
                    { text: "It's war - lifelong feuds passed through generations", scores: { glasgow: 3, buenosaires: 2, istanbul: 2, athens: 3, cairo: 2 } },
                    { text: "Friendly banter with mutual respect", scores: { greenbay: 2, nashville: 2, tokyo: 1, melbourne: 2 } },
                    { text: "City-defining - it splits communities", scores: { manchester: 3, glasgow: 2, buenosaires: 2, madrid: 2, melbourne: 3 } },
                    { text: "Political and cultural identity", scores: { barcelona: 3, istanbul: 2, cairo: 3, marseille: 2 } }
                ]
            },
            {
                question: "What's your preferred temperature?",
                options: [
                    { text: "Freezing cold - the colder the better", scores: { greenbay: 3, dortmund: 1, seattle: 2 } },
                    { text: "Mild European weather", scores: { liverpool: 2, manchester: 2, barcelona: 2, dortmund: 2, munich: 2, madrid: 2, athens: 2, portland: 2 } },
                    { text: "Hot and passionate", scores: { buenosaires: 2, saopaulo: 3, istanbul: 2, cairo: 3, mexicocity: 2, marseille: 2 } },
                    { text: "Anything with AC and indoor venues", scores: { tokyo: 3, nashville: 1, neworleans: 1, melbourne: 1 } }
                ]
            },
            {
                question: "What's your drink of choice?",
                options: [
                    { text: "Beer - lots of it", scores: { liverpool: 3, dortmund: 3, greenbay: 2, manchester: 2, munich: 3, seattle: 2, portland: 3, melbourne: 3 } },
                    { text: "Wine or sangria", scores: { barcelona: 3, buenosaires: 1, madrid: 2, marseille: 3, athens: 2 } },
                    { text: "Whiskey or bourbon", scores: { nashville: 3, glasgow: 2, neworleans: 2 } },
                    { text: "Sake or unique cocktails", scores: { tokyo: 3, mexicocity: 1 } }
                ]
            },
            {
                question: "How important is history and tradition?",
                options: [
                    { text: "Everything - I want to walk where legends walked", scores: { liverpool: 3, barcelona: 2, manchester: 2, madrid: 3, athens: 2, melbourne: 2 } },
                    { text: "Important, but I'm here for current energy", scores: { dortmund: 2, istanbul: 2, saopaulo: 2, munich: 2, marseille: 2, cairo: 2 } },
                    { text: "Tradition is nice, but innovation is better", scores: { tokyo: 3, greenbay: 1, seattle: 2, portland: 2 } },
                    { text: "I live in the moment - now is what matters", scores: { nashville: 2, buenosaires: 2, neworleans: 3, mexicocity: 2 } }
                ]
            },
            {
                question: "What food experience excites you most?",
                options: [
                    { text: "Authentic local working-class food", scores: { liverpool: 3, dortmund: 2, greenbay: 2, manchester: 2, marseille: 3 } },
                    { text: "Street food and BBQ", scores: { buenosaires: 3, saopaulo: 3, nashville: 2, mexicocity: 3, neworleans: 3, cairo: 2 } },
                    { text: "Unique cultural cuisine", scores: { tokyo: 3, istanbul: 3, barcelona: 2, athens: 2 } },
                    { text: "Hearty traditional comfort food", scores: { glasgow: 2, manchester: 2, munich: 3, melbourne: 2 } }
                ]
            },
            {
                question: "How do you want to stand out?",
                options: [
                    { text: "I don't - I want to blend in with locals", scores: { liverpool: 2, glasgow: 2, manchester: 2, munich: 2 } },
                    { text: "Extreme cosplay or team gear", scores: { tokyo: 3, greenbay: 2, seattle: 2, melbourne: 1 } },
                    { text: "Face paint, flares, and passion", scores: { buenosaires: 3, istanbul: 3, saopaulo: 2, cairo: 3, athens: 3, marseille: 3 } },
                    { text: "Classic scarf and respectful support", scores: { barcelona: 2, dortmund: 2, madrid: 2, portland: 3 } }
                ]
            }
        ];

        let currentQuestion = 0;
        let quizScores = {};

        function openQuiz() {
            const modal = document.getElementById('quizModal');
            modal.classList.add('active');
            currentQuestion = 0;
            quizScores = {};
            renderQuestion();
        }

        function closeQuiz() {
            const modal = document.getElementById('quizModal');
            modal.classList.remove('active');
        }

        function renderQuestion() {
            const container = document.getElementById('quizQuestions');
            const resultDiv = document.getElementById('quizResult');
            const progressBar = document.getElementById('quizProgressBar');

            if (currentQuestion >= quizQuestions.length) {
                showResult();
                return;
            }

            const q = quizQuestions[currentQuestion];
            const progress = ((currentQuestion + 1) / quizQuestions.length) * 100;
            progressBar.style.width = progress + '%';

            resultDiv.classList.add('hidden');
            container.innerHTML = `
                <h2 class="quiz-title">Question ${currentQuestion + 1} of ${quizQuestions.length}</h2>
                <p style="font-size: 1.2rem; color: #475569; margin-bottom: 2rem;">${q.question}</p>
                ${q.options.map((opt, i) => `
                    <div class="quiz-option" onclick="selectAnswer(${i})">
                        ${opt.text}
                    </div>
                `).join('')}
            `;
        }

        function selectAnswer(optionIndex) {
            const q = quizQuestions[currentQuestion];
            const scores = q.options[optionIndex].scores;

            // Add scores
            for (let city in scores) {
                quizScores[city] = (quizScores[city] || 0) + scores[city];
            }

            currentQuestion++;
            renderQuestion();
        }

        function showResult() {
            const container = document.getElementById('quizQuestions');
            const resultDiv = document.getElementById('quizResult');

            // Find top city
            let topCity = null;
            let topScore = 0;
            for (let city in quizScores) {
                if (quizScores[city] > topScore) {
                    topScore = quizScores[city];
                    topCity = city;
                }
            }

            const cityData = cityDisplayData[topCity];

            container.innerHTML = '';
            resultDiv.classList.remove('hidden');
            resultDiv.innerHTML = `
                <h2 style="font-size: 1.3rem; color: #64748b; margin-bottom: 0.5rem;">Your Perfect Fan City Is...</h2>
                <div class="result-city-name">${cityData.name} ${cityData.country}</div>
                <p class="result-description">${cityData.description}</p>
                <div style="margin-bottom: 2rem;">
                    ${cityData.highlights.map(h => `<span class="highlight-tag">${h}</span>`).join('')}
                </div>
                <div class="result-actions">
                    <button class="result-button primary" onclick="window.location.href='city.html?city=${topCity}'">
                        Explore ${cityData.name}
                    </button>
                    <button class="result-button secondary" onclick="shareQuizResult('${topCity}')">
                        üì± Share Result
                    </button>
                    <button class="result-button secondary" onclick="openQuiz()">
                        üîÑ Retake Quiz
                    </button>
                </div>
            `;
        }

        function shareQuizResult(city) {
            const cityData = cityDisplayData[city];
            const text = `üèôÔ∏è My perfect fan city is ${cityData.name}! Find yours at FANTOWNS.com`;

            if (navigator.share) {
                navigator.share({
                    title: 'My Perfect Fan City',
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(text + ' - ' + window.location.href);
                alert('Result copied to clipboard! Share it with your friends!');
            }
        }

        // ========== BUCKET LIST FUNCTIONALITY ==========
        function toggleBucketList() {
            const panel = document.getElementById('bucketListPanel');
            panel.classList.toggle('active');
        }

        function loadBucketList() {
            const visited = JSON.parse(localStorage.getItem('visitedCities') || '[]');
            return visited;
        }

        function saveBucketList(visited) {
            localStorage.setItem('visitedCities', JSON.stringify(visited));
            updateBucketListUI();
        }

        function toggleCity(cityKey) {
            const visited = loadBucketList();
            const index = visited.indexOf(cityKey);

            if (index > -1) {
                visited.splice(index, 1);
            } else {
                visited.push(cityKey);
                // Show achievement animation
                checkAchievements(visited.length);
            }

            saveBucketList(visited);
        }

        function checkAchievements(count) {
            const achievements = {
                1: "üéØ First Steps",
                5: "üåü Explorer",
                10: "üèÜ Globetrotter",
                15: "üëë Legend",
                21: "üíé Ultimate Fan"
            };

            if (achievements[count]) {
                setTimeout(() => {
                    alert(`üéâ Achievement Unlocked: ${achievements[count]}!`);
                }, 300);
            }
        }

        function updateBucketListUI() {
            const visited = loadBucketList();
            const totalCities = Object.keys(cityDisplayData).length;
            const percentage = (visited.length / totalCities) * 100;

            // Update badge
            document.getElementById('bucketListBadge').textContent = `${visited.length}/${totalCities}`;

            // Update progress bar
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressText').textContent = `${visited.length} of ${totalCities} cities visited`;

            // Update achievements
            const achievementsHTML = [
                { count: 1, icon: 'üéØ', name: 'First Steps', locked: visited.length < 1 },
                { count: 5, icon: 'üåü', name: 'Explorer', locked: visited.length < 5 },
                { count: 10, icon: 'üèÜ', name: 'Globetrotter', locked: visited.length < 10 },
                { count: 15, icon: 'üëë', name: 'Legend', locked: visited.length < 15 },
                { count: 21, icon: 'üíé', name: 'Ultimate Fan', locked: visited.length < 21 }
            ].map(a => `
                <span class="achievement-badge ${a.locked ? 'locked' : ''}">
                    ${a.icon} ${a.name}
                </span>
            `).join('');

            document.getElementById('achievements').innerHTML = achievementsHTML;

            // Update checklist
            const checklistHTML = Object.keys(cityDisplayData).map(cityKey => {
                const city = cityDisplayData[cityKey];
                const isChecked = visited.includes(cityKey);
                return `
                    <div class="city-checklist-item ${isChecked ? 'checked' : ''}" onclick="toggleCity('${cityKey}')">
                        <div class="city-checkbox"></div>
                        <div>
                            <div style="font-weight: 600; color: #1e293b;">${city.name}</div>
                            <div style="font-size: 0.85rem; color: #64748b;">${city.country}</div>
                        </div>
                    </div>
                `;
            }).join('');

            document.getElementById('cityChecklist').innerHTML = checklistHTML;
        }

        function shareBucketList() {
            const visited = loadBucketList();
            const total = Object.keys(cityDisplayData).length;
            const cityNames = visited.map(key => cityDisplayData[key].name).join(', ');

            const text = `üèÜ I've explored ${visited.length}/${total} fan cities on FANTOWNS!\n${visited.length > 0 ? `Cities: ${cityNames}` : 'Just getting started!'}`;

            if (navigator.share) {
                navigator.share({
                    title: 'My Fan City Journey',
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(text + '\n' + window.location.href);
                alert('Bucket list copied to clipboard!');
            }
        }

        // ========== SOCIAL PROOF ==========
        const socialProofMessages = [
            { city: 'Liverpool', message: '87 fans exploring Liverpool right now' },
            { city: 'Buenos Aires', message: 'Sarah from Australia just checked into La Bombonera' },
            { city: 'Green Bay', message: 'Green Bay trending in Wisconsin üî•' },
            { city: 'Tokyo', message: '156 people viewing Tokyo this hour' },
            { city: 'Dortmund', message: 'Mike from USA just added Dortmund to bucket list' },
            { city: 'Nashville', message: 'Nashville searches up 230% this week' },
            { city: 'Istanbul', message: 'Emma from UK just booked tickets to Istanbul' },
            { city: 'Barcelona', message: '203 fans exploring Barcelona right now' },
            { city: 'Manchester', message: 'James from Ireland visited Manchester yesterday' },
            { city: 'Glasgow', message: 'Old Firm Derby searches spiking üî•' },
            { city: 'S√£o Paulo', message: 'Carlos from Brazil shared his S√£o Paulo story' },
            { city: 'Seattle', message: '12th Man flag raising at Lumen Field today üèà' },
            { city: 'Munich', message: '94 fans exploring Munich right now' },
            { city: 'Cairo', message: 'Mohamed from Egypt shared Ultras Ahlawy experience' },
            { city: 'Madrid', message: 'Real Madrid trending globally üëë' },
            { city: 'Marseille', message: 'Sophie from Canada just booked OM match tickets' },
            { city: 'Mexico City', message: '178 people viewing Azteca Stadium this hour' },
            { city: 'New Orleans', message: 'Who Dat trending in Louisiana üé∫' },
            { city: 'Portland', message: 'Timber Joey chainsaw video going viral ü™µ' },
            { city: 'Melbourne', message: 'AFL Grand Final searches up 340% üèâ' },
            { city: 'Athens', message: 'Derby of Eternal Enemies next week üî•' }
        ];

        let socialProofIndex = 0;

        function updateSocialProof() {
            const message = socialProofMessages[socialProofIndex];
            document.getElementById('socialProofMessage').textContent = message.message;
            socialProofIndex = (socialProofIndex + 1) % socialProofMessages.length;
        }

        // Initialize social proof
        updateSocialProof();
        setInterval(updateSocialProof, 5000); // Change every 5 seconds

        // Initialize bucket list on page load
        updateBucketListUI();
    </script>

    <!-- Footer (rendered by components.js) -->
    <div id="footer-mount"></div>

    <!-- Back to Top Button (rendered by components.js) -->
    <div id="back-to-top-mount"></div>

    <!-- Shared Components Script -->
    <script src="components.js"></script>
    <script>
        // Render header, footer, and back-to-top button
        document.getElementById('header-mount').appendChild(renderHeader('home'));
        document.getElementById('footer-mount').appendChild(renderFooter());
        document.getElementById('back-to-top-mount').appendChild(renderBackToTop());

        // Make openBucketList available globally for components.js
        window.openBucketListModal = openBucketList;
    </script>
</body>
</html>
